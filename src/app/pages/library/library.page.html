<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <ion-title class="text-2xl">Recettes</ion-title>
    <ion-button slot="end" fill="clear" routerLink="/tabs/add-recipe">
      <ion-icon slot="icon-only" name="add" color="primary"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  @if (filteredRecipes.length > 0) {
    <!-- Recipe Grid -->
    <div class="recipe-grid">
      @for (recipe of filteredRecipes; track recipe.id) {
        <div 
          class="recipe-card bg-white rounded-2xl overflow-hidden shadow" 
          (click)="openRecipeDetails(recipe)"
          (keyup.enter)="openRecipeDetails(recipe)"
          role="button"
          tabindex="0"
        >
          @if (recipe.imageUrl) {
            <div class="recipe-image">
              <img [src]="recipe.imageUrl" [alt]="recipe.title" />
            </div>
          } @else {
            <div class="recipe-image recipe-placeholder">
              <ion-icon name="restaurant" size="large"></ion-icon>
            </div>
          }
          <div class="p-4">
            <h3 class="text-base font-semibold">{{ recipe.title }}</h3>
          </div>
        </div>
      }
    </div>

    <!-- Floating Swipe Mode Button -->
    <button class="swipe-mode-btn" (click)="openSwipeMode()">
      <span class="text-base font-semibold">Swipe mode</span>
      <ion-icon name="arrow-forward" size="small"></ion-icon>
    </button>
  } @else {
    <div class="empty-state">
      <ion-icon name="restaurant-outline" size="large" color="medium"></ion-icon>
      <h2 class="text-xl mt-4">Aucune recette</h2>
      <p class="text-sm text-gray-500 mt-2">Ajoutez des recettes pour commencer</p>
      <ion-button class="mt-4" expand="block" routerLink="/tabs/add-recipe">
        <ion-icon slot="start" name="add"></ion-icon>
        Ajouter une recette
      </ion-button>
    </div>
  }
</ion-content>
